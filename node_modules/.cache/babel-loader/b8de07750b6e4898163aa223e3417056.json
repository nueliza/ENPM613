{"ast":null,"code":"import * as actions from \"./actions\";\nconst baseUrl = \"https://get-sat-pro.herokuapp.com/\";\nexport function loginUser(user) {\n  return dispatch => {\n    actions.loginStarted();\n    return fetch(\"\".concat(baseUrl, \"/login\"), {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/json',\n        'Accept': 'aaplication/json'\n      },\n      body: JSON.stringify(user)\n    }).then(resp => resp.json()).then(payload => {\n      console.log(\"before Dispatch\", payload);\n\n      if (payload.Status === 200) {\n        actions.loginSuccess();\n        console.log(\"before Dispatch\", payload);\n        localStorage.setItem(\"token\", payload.token);\n        dispatch({\n          type: 'LOGIN_USER',\n          data: payload\n        });\n      } else {\n        actions.loginFailed();\n      }\n    });\n  };\n}\nexport function registerUser(payload) {\n  //TODO: service call to register user\n  return {\n    type: 'REGISTER_USER',\n    data: payload // will change to response\n\n  };\n}\nexport function setSelectedModule(payload) {\n  return {\n    type: 'SET_SELECTED_MODULE',\n    data: payload\n  };\n}","map":{"version":3,"sources":["/Users/annuabraham/Documents/GitHub/ENPM613/client/src/actions/moduleActions.js"],"names":["actions","baseUrl","loginUser","user","dispatch","loginStarted","fetch","method","headers","body","JSON","stringify","then","resp","json","payload","console","log","Status","loginSuccess","localStorage","setItem","token","type","data","loginFailed","registerUser","setSelectedModule"],"mappings":"AAAA,OAAO,KAAKA,OAAZ,MAAyB,WAAzB;AAEA,MAAMC,OAAO,GAAG,oCAAhB;AAEA,OAAO,SAASC,SAAT,CAAmBC,IAAnB,EAAyB;AAC5B,SAAOC,QAAQ,IAAG;AACdJ,IAAAA,OAAO,CAACK,YAAR;AACA,WAAOC,KAAK,WAAIL,OAAJ,aAAqB;AAC7BM,MAAAA,MAAM,EAAE,MADqB;AAE7BC,MAAAA,OAAO,EAAC;AACJ,wBAAe,kBADX;AAEJ,kBAAU;AAFN,OAFqB;AAM7BC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeR,IAAf;AANuB,KAArB,CAAL,CAQNS,IARM,CAQDC,IAAI,IAAIA,IAAI,CAACC,IAAL,EARP,EASNF,IATM,CASDG,OAAO,IAAG;AACZC,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,OAA/B;;AACA,UAAGA,OAAO,CAACG,MAAR,KAAmB,GAAtB,EAA0B;AACtBlB,QAAAA,OAAO,CAACmB,YAAR;AACAH,QAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BF,OAA/B;AAEAK,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BN,OAAO,CAACO,KAAtC;AACAlB,QAAAA,QAAQ,CAAC;AACLmB,UAAAA,IAAI,EAAE,YADD;AAELC,UAAAA,IAAI,EAAET;AAFD,SAAD,CAAR;AAIH,OATD,MAUI;AACAf,QAAAA,OAAO,CAACyB,WAAR;AACH;AACJ,KAxBM,CAAP;AAyBH,GA3BD;AA4BH;AAED,OAAO,SAASC,YAAT,CAAsBX,OAAtB,EAA+B;AAClC;AACA,SAAM;AACFQ,IAAAA,IAAI,EAAE,eADJ;AAEFC,IAAAA,IAAI,EAAET,OAFJ,CAEY;;AAFZ,GAAN;AAKH;AAED,OAAO,SAASY,iBAAT,CAA2BZ,OAA3B,EAAoC;AACvC,SAAM;AACFQ,IAAAA,IAAI,EAAE,qBADJ;AAEFC,IAAAA,IAAI,EAAET;AAFJ,GAAN;AAIH","sourcesContent":["import * as actions from \"./actions\";\n\nconst baseUrl = \"https://get-sat-pro.herokuapp.com/\";\n\nexport function loginUser(user) {\n    return dispatch =>{\n        actions.loginStarted()\n        return fetch(`${baseUrl}/login`, {\n            method: \"POST\",\n            headers:{\n                'Content-Type':'application/json',\n                'Accept': 'aaplication/json',\n            },\n            body: JSON.stringify(user)\n        })\n        .then(resp => resp.json())\n        .then(payload =>{\n            console.log(\"before Dispatch\", payload);\n            if(payload.Status === 200){\n                actions.loginSuccess()\n                console.log(\"before Dispatch\", payload);\n\n                localStorage.setItem(\"token\", payload.token)\n                dispatch({\n                    type: 'LOGIN_USER',\n                    data: payload\n                })\n            }\n            else{\n                actions.loginFailed()\n            }\n        })\n    }\n}\n\nexport function registerUser(payload) {\n    //TODO: service call to register user\n    return{\n        type: 'REGISTER_USER',\n        data: payload // will change to response\n    }\n    \n}\n\nexport function setSelectedModule(payload) {\n    return{\n        type: 'SET_SELECTED_MODULE',\n        data: payload\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}